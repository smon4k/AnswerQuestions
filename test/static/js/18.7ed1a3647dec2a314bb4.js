webpackJsonp([18],{"8zm5":function(t,n,a){var e=a("MU1z");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);a("rjj0")("94a9ce1c",e,!1,{})},FiEX:function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=a("dvzW"),i=a("sggE"),r=!1;var o=function(t){r||a("8zm5")},s=a("VU/8")(e.a,i.a,!1,o,"data-v-11b83517",null);s.options.__file="src/views/ticket/list.vue",n.default=s.exports},MU1z:function(t,n,a){var e=a("kxFB");(t.exports=a("FZ+f")(!1)).push([t.i,"\n.container[data-v-11b83517] .bg{background-image:url("+e(a("Zj3x"))+");background-repeat:no-repeat;background-attachment:fixed;background-position:center;top:0;left:0;width:100%;height:100%;z-index:-10;position:fixed\n}\n.container[data-v-11b83517] .van-nav-bar{background-color:transparent\n}\n.container[data-v-11b83517] .van-nav-bar .van-nav-bar__left i{color:#fff;font-size:20px\n}\n.container[data-v-11b83517] .van-nav-bar .van-nav-bar__title{color:#fff\n}\n.container[data-v-11b83517] .van-tabs__wrap{height:40px\n}\n.container[data-v-11b83517] .van-tabs__nav{background-color:transparent\n}\n.container[data-v-11b83517] .van-tabs__nav .van-tabs__nav--card{margin:0;height:40px\n}\n.container[data-v-11b83517] .van-tabs__nav .van-tab--active{color:#fff\n}\n.container[data-v-11b83517] .van-tabs__nav .van-tabs__line{background-color:#FDD95B !important\n}\n.container[data-v-11b83517] .van-empty__description{color:#fff\n}\n.container[data-v-11b83517] .main{width:100%;height:100vh;margin:0 auto;overflow:auto\n}\n.container[data-v-11b83517] .main .list-bg{background:linear-gradient(#00C3E9, #2D50D2);position:absolute;width:100%;height:100%\n}\n.container[data-v-11b83517] .main .van-cell-group--inset{margin-top:10px;border:2px solid #fff;border-radius:20px\n}\n.container[data-v-11b83517] .main .van-cell-group--inset .van-cell{background-color:transparent;color:#fff;border-bottom:0\n}\n.container[data-v-11b83517] .main .van-cell-group--inset .van-cell .van-cell__value{display:none\n}\n.container[data-v-11b83517] .main .custom-title{line-height:60px\n}\n.container[data-v-11b83517] .main .custom-title .left{font-size:15px;color:#f8f5ea\n}\n.container[data-v-11b83517] .main .custom-title .right{font-size:14px;color:#fff\n}\n.container[data-v-11b83517] .main .custom-discount-title .left{font-size:16px;color:#f8f5ea\n}\n.container[data-v-11b83517] .main .custom-discount-title .right{font-size:14px;color:#fff\n}\n.container[data-v-11b83517] .main .top-title{height:63px\n}\n.container[data-v-11b83517] .main .top-title .van-cell__title{display:flex;align-items:center;justify-content:space-around;flex-direction:column\n}\n.container[data-v-11b83517] .main .top-title .van-cell__title .van-row{line-height:45px\n}\n.container[data-v-11b83517] .main .center-content{height:134px\n}\n.container[data-v-11b83517] .main .center-content .van-cell__title{display:flex;align-items:center;justify-content:space-around;flex-direction:column\n}\n.container[data-v-11b83517] .main .center-content .van-cell__title .van-row{line-height:45px\n}\n.container[data-v-11b83517] .main .bottom-button{position:absolute;bottom:15px\n}\n.container[data-v-11b83517] .main .buy-button{width:90px;height:40px;background:url("+e(a("UJJQ"))+") no-repeat center;background-size:contain;text-align:center;border:0\n}\n.container[data-v-11b83517] .tag{position:absolute;right:0;top:0;border-radius:0px 5px 0px 15px;color:#fff;padding:2px 15px;font-size:15px;line-height:30px;background:linear-gradient(to right bottom, rgba(255,255,255,0.4), transparent) var(--bg, #EA3447);background-blend-mode:soft-light\n}\n",""])},dvzW:function(t,n,a){"use strict";var e,i,r,o=a("mtWM"),s=a.n(o),c=a("NYxO"),l=a("QKB9"),v=a.n(l),u=a("cx+2"),d=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(t[e]=a[e])}return t};function g(t){return function(){var n=t.apply(this,arguments);return new Promise(function(t,a){return function e(i,r){try{var o=n[i](r),s=o.value}catch(t){return void a(t)}if(!o.done)return Promise.resolve(s).then(function(t){e("next",t)},function(t){e("throw",t)});t(s)}("next")})}}n.a=(e={name:"",data:function(){return{tableData:[],pageSize:1e3,currPage:1,total:0,cardActive:0,SCTPrice:0,loadingShow:!1}},created:function(){this.getListData(),this.getSCTPrice()},mounted:function(){var t=this;return g(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("111");case 1:case"end":return t.stop()}},n,t)}))()},activated:function(){this.cardActive=0},watch:{},computed:d({},Object(c.c)({address:function(t){return t.base.address},userId:function(t){return t.base.userId},isConnected:function(t){return t.base.isConnected},apiUrl:function(t){return t.base.apiUrl},isMobel:function(t){return t.comps.isMobel}}),{changeData:function(){return{address:this.address}}}),components:{},methods:{getSCTPrice:function(){var t=this;return g(regeneratorRuntime.mark(function n(){var a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return 1e9,n.next=3,Object(u.f)(v.a.routerContractAddress,v.a.SCT,v.a.BUSDT);case 3:a=n.sent,t.SCTPrice=t.keepDecimalNotRounding(a,4),console.log("SCTPrice",t.SCTPrice);case 6:case"end":return n.stop()}},n,t)}))()},startBuy:function(t){this.$router.push({path:"/ticket/detail",query:{type:1,ticket_id:t.id}})},getListData:function(){var t=this,n={limit:this.pageSize,page:this.currPage};this.loadingShow=!0,s.a.get(this.apiUrl+"/Api/Ticket/getTicketList",{params:n}).then(function(a){t.loading=!1,console.log(a),1e4==a.code?(a.data&&a.data.lists&&a.data.lists.length>0&&(t.currPage<=1?t.tableData=a.data.lists:n.page<=a.data.allpage&&t.tableData.push(a.data.lists)),console.log(t.tableData)):t.$notify({type:"warning",message:"加载数据失败"}),t.loadingShow=!1}).catch(function(n){t.$notify({type:"warning",message:n})})},onClickLeft:function(){this.$router.go(-1)},cealPaybackPeriod:function(t){var n=Number(t.price)/(t.capped*this.SCTPrice);return this.keepDecimalNotRounding(n,1,!0)},getRealInterestRate:function(t){console.log(t);var n,a=t.price;return!t.is_discount||2!=t.discount_status&&1!=t.discount_status||(a=t.discount_price),n=Number(t.capped)*this.SCTPrice*365/Number(a)*100,this.toFixed(n,2)+"%"}}},r=function(){},(i="mounted")in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r,e)},sggE:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"container"},[a("div",{staticClass:"bg",style:{backgroundSize:t.isMobel?"100% 100%":""}}),t._v(" "),a("van-nav-bar",{attrs:{title:t.$t("nav:tickets"),"left-text":"","left-arrow":"","right-text":""},on:{"click-left":t.onClickLeft}}),t._v(" "),a("div",{staticClass:"main"},[a("van-tabs",{model:{value:t.cardActive,callback:function(n){t.cardActive=n},expression:"cardActive"}},[a("van-tab",{attrs:{title:t.$t("question:buyTickets")}},t._l(t.tableData,function(n,e){return a("van-cell-group",{key:e,attrs:{inset:""}},[a("div",{staticClass:"list-bg"}),t._v(" "),a("van-cell",{staticClass:"top-title",scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{staticStyle:{color:"#FDD95B","font-style":"italic","font-weight":"800"}},[t._v(t._s(n.name))]),t._v(" "),!n.is_discount||2!=n.discount_status&&1!=n.discount_status?t._e():a("div",{staticClass:"tag"},[t._v(t._s(t.$t("question:LimitDiscounts")))])]},proxy:!0}],null,!0)}),t._v(" "),a("van-cell",{scopedSlots:t._u([{key:"title",fn:function(){return[a("div",{staticClass:"custom-title"},[a("van-row",[a("van-col",{attrs:{span:"12",align:"”left“"}},[a("van-row",[a("van-col",{staticClass:"left",attrs:{align:"right",span:"10"}},[t._v(t._s(t.$t("question:denomination")))]),t._v(" "),a("van-col",{staticClass:"right",attrs:{align:"left",span:"14"}},[t._v("  "+t._s(t.toFixed(n.denomination,2))+" USDT")])],1)],1),t._v(" "),a("van-col",{attrs:{span:"12",align:"”left“"}},[a("van-row",[a("van-col",{staticClass:"left",attrs:{align:"right",span:"10"}},[t._v(t._s(t.$t("question:nominalInterestRate")))]),t._v(" "),a("van-col",{staticClass:"right",attrs:{align:"left",span:"14"}},[t._v("  "+t._s(t.toFixed(n.annualized,2))+" %")])],1)],1)],1),t._v(" "),a("van-row",[a("van-col",{attrs:{span:"12",align:"right"}},[a("van-row",[a("van-col",{staticClass:"left",attrs:{align:"right",span:"10"}},[t._v(t._s(t.$t("question:buyPrice")))]),t._v(" "),a("van-col",{staticClass:"right",attrs:{align:"left",span:"14"}},[t._v("  "+t._s(t.toFixed(n.price,2))+" USDT")])],1)],1),t._v(" "),a("van-col",{attrs:{span:"12",align:"left"}},[a("van-row",[a("van-col",{staticClass:"left",attrs:{align:"right",span:"10"}},[t._v(t._s(t.$t("question:realInterestRate")))]),t._v(" "),a("van-col",{staticClass:"right",attrs:{align:"left",span:"14"}},[t._v("  "+t._s(t.getRealInterestRate(n)))])],1)],1)],1)],1),t._v(" "),!n.is_discount||2!=n.discount_status&&1!=n.discount_status?t._e():a("div",{staticClass:"custom-discount-title"},[a("van-divider",{staticStyle:{width:"100%",margin:"0 auto",height:"10px"}}),t._v(" "),a("van-row",{staticStyle:{"padding-top":"15px"}},[a("van-col",{attrs:{span:"12",align:"center"}},[a("van-row",[a("van-col",{staticClass:"left",attrs:{align:"center"}},[t._v(t._s(t.$t("question:DiscountStartTime")))]),t._v(" "),a("br"),t._v(" "),a("van-col",{staticClass:"right",attrs:{align:"center"}},[t._v(t._s(n.start_time))])],1)],1),t._v(" "),a("van-col",{attrs:{span:"12",align:"center"}},[a("van-row",[a("van-col",{staticClass:"left",attrs:{align:"right"}},[t._v(t._s(t.$t("question:DiscountEndTime")))]),t._v(" "),a("br"),t._v(" "),a("van-col",{staticClass:"right",attrs:{align:"right"}},[t._v(t._s(n.end_time))])],1)],1)],1),t._v(" "),a("br"),t._v(" "),a("van-row",{staticStyle:{"padding-bottomo":"15px"}},[a("van-col",{attrs:{span:"12",align:"left"}},[a("van-row",[a("van-col",{staticClass:"left",attrs:{span:"10",align:"right"}},[t._v(t._s(t.$t("question:DiscountPrice")))]),t._v(" "),a("van-col",{staticClass:"right",attrs:{span:"14",align:"left"}},[t._v("  "+t._s(t.toFixed(n.discount_price,2))+" USDT")])],1)],1),t._v(" "),a("van-col",{attrs:{span:"12",align:"left"}},[a("van-row",[a("van-col",{staticClass:"left",attrs:{span:"10",align:"right"}},[t._v(t._s(t.$t("question:Discount")))]),t._v(" "),a("van-col",{staticClass:"right",attrs:{span:"14",align:"left"}},[t._v("  "+t._s(t.toFixed(n.discount,2))+" 折")])],1)],1)],1)],1)]},proxy:!0}],null,!0)}),t._v(" "),a("van-cell",{attrs:{align:"right"},scopedSlots:t._u([{key:"title",fn:function(){return[a("div",[a("van-button",{staticClass:"buy-button",attrs:{type:"primary"},on:{click:function(a){return t.startBuy(n)}}},[t._v(t._s(t.$t("question:buy")))])],1)]},proxy:!0}],null,!0)})],1)}),1),t._v(" "),a("van-tab",{attrs:{title:t.$t("question:myTicket"),to:"/ticket/my/list"}})],1)],1),t._v(" "),a("van-overlay",{attrs:{show:t.loadingShow},on:{click:function(n){t.loadingShow=!1}}},[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center",height:"100%"}},[a("van-loading",{attrs:{size:"24px",vertical:"",color:"#fff"}},[t._v(t._s(t.$t("question:DataLoading")))])],1)])],1)};e._withStripped=!0;var i={render:e,staticRenderFns:[]};n.a=i}});