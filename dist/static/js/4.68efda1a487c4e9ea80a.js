webpackJsonp([4],{"/szy":function(e,a,t){var n=t("kxFB");(e.exports=t("FZ+f")(!0)).push([e.i,".container[data-v-162b30dc] .bg{background-image:url("+n(t("8ThQ"))+");background-repeat:no-repeat;background-attachment:fixed;background-position:50%;top:0;left:0;width:100%;height:100%;z-index:-10;position:fixed;filter:blur(2px)}.container[data-v-162b30dc] .van-nav-bar{background-color:transparent}.container[data-v-162b30dc] .van-nav-bar .van-nav-bar__left i{color:#fff;font-size:20px}.container[data-v-162b30dc] .van-nav-bar .van-nav-bar__title{color:#fff}.container[data-v-162b30dc] .box{width:90%;height:80vh;margin:0 auto;background-color:#fff;margin-top:30px;border-radius:30px}.container[data-v-162b30dc] .box .content{padding:16px 16px 160px}.container[data-v-162b30dc] .box .van-popup--bottom.van-popup--round{height:100vh}.container[data-v-162b30dc] .box .van-action-sheet{max-height:100%}.container[data-v-162b30dc] .box .avator{padding:20px;text-align:center}.container[data-v-162b30dc] .box .avator .preview{width:100px;height:100px;border-radius:50px}.container[data-v-162b30dc] .box .avator .upload-icon{color:#dcdee0;font-size:24px;top:50%;left:50%;margin-top:-12px;margin-left:-12px;position:absolute}.container[data-v-162b30dc] .box .avator .uploader{display:flex;width:100px;height:100px;border-radius:100%;margin:0 auto;background-color:#f7f8fa}.container[data-v-162b30dc] .box .avator .uploader .van-uploader__preview-image,.container[data-v-162b30dc] .box .avator .uploader .van-uploader__upload{width:100px;height:100px}.container[data-v-162b30dc] .box .avator .uploader .van-uploader__input-wrapper{position:unset}.container[data-v-162b30dc] .box .avator .photograph{position:relative;margin:0 auto;width:20px;height:20px;background-color:#000;border-radius:100%;left:35px;font-size:20px;bottom:20px}.container[data-v-162b30dc] .box .avator .photograph img{width:15px;height:15px;margin-bottom:2px}.container[data-v-162b30dc] .box .item .item-index .van-cell--clickable{height:50px;line-height:30px;vertical-align:middle}.container[data-v-162b30dc] .box .item .item-index .van-popup{background-color:#f6f6f6}.container[data-v-162b30dc] .box .item .item-index .hint{color:#969799;padding-left:15px}.container[data-v-162b30dc] .box .item .item-index .van-cell__left-icon,.container[data-v-162b30dc] .box .item .item-index .van-cell__right-icon{line-height:30px}.container[data-v-162b30dc] .box .item .item-index .van-sheet .van-cell,.container[data-v-162b30dc] .box .item .item-index .van-sheet .van-picker{width:95%;border-radius:15px;margin:0 auto}.container[data-v-162b30dc] .box .item .item-index .van-sheet .van-cell-group{margin:10px;border-radius:15px}.container[data-v-162b30dc] .box .item .item-index .van-sheet .van-cell-group .van-cell{border-radius:15px}.container[data-v-162b30dc] .box .item .item-index .van-language-sheet{height:auto!important}.container[data-v-162b30dc] .box .item .item-index .background-classname{height:100px;line-height:80px}.container[data-v-162b30dc] .box .item .item-index .background-classname .van-cell__right-icon{line-height:80px}.container[data-v-162b30dc] .box .item .item-index .background-classname .van-uploader__mask-message{margin-top:0!important;line-height:unset!important}","",{version:3,sources:["/Users/qinlinhui/Sites/WWW/AnswerQuestions/src/views/user/index.vue"],names:[],mappings:"AACA,gCAAgC,+CAAkD,4BAA4B,4BAA4B,wBAA2B,MAAM,OAAO,WAAW,YAAY,YAAY,eAAe,gBAAgB,CACnP,AACD,yCAAyC,4BAA4B,CACpE,AACD,8DAA8D,WAAW,cAAc,CACtF,AACD,6DAA6D,UAAU,CACtE,AACD,iCAAiC,UAAU,YAAY,cAAc,sBAAsB,gBAAgB,kBAAkB,CAC5H,AACD,0CAA0C,uBAAuB,CAChE,AACD,qEAAqE,YAAY,CAChF,AACD,mDAAmD,eAAe,CACjE,AACD,yCAAyC,aAAa,iBAAiB,CACtE,AACD,kDAAkD,YAAY,aAAa,kBAAkB,CAC5F,AACD,sDAAsD,cAAc,eAAe,QAAQ,SAAS,iBAAiB,kBAAkB,iBAAiB,CACvJ,AACD,mDAAmD,aAAa,YAAY,aAAa,mBAAmB,cAAc,wBAAwB,CACjJ,AAGD,yJAAgF,YAAY,YAAY,CACvG,AACD,gFAAgF,cAAc,CAC7F,AACD,qDAAqD,kBAAkB,cAAc,WAAW,YAAY,sBAAuB,mBAAmB,UAAU,eAAe,WAAW,CACzL,AACD,yDAAyD,WAAW,YAAY,iBAAiB,CAChG,AACD,wEAAwE,YAAY,iBAAiB,qBAAqB,CACzH,AACD,8DAA8D,wBAAwB,CACrF,AACD,yDAAyD,cAAc,iBAAiB,CACvF,AACD,iJAAiJ,gBAAgB,CAChK,AACD,kJAAkJ,UAAU,mBAAmB,aAAa,CAC3L,AACD,8EAA8E,YAAY,kBAAkB,CAC3G,AACD,wFAAwF,kBAAkB,CACzG,AACD,uEAAuE,qBAAsB,CAC5F,AACD,yEAAyE,aAAa,gBAAgB,CACrG,AACD,+FAA+F,gBAAgB,CAC9G,AACD,qGAAqG,uBAAwB,2BAA4B,CACxJ",file:"index.vue",sourcesContent:['\n.container[data-v-162b30dc] .bg{background-image:url("../../assets/answer/2.jpg");background-repeat:no-repeat;background-attachment:fixed;background-position:center;top:0;left:0;width:100%;height:100%;z-index:-10;position:fixed;filter:blur(2px)\n}\n.container[data-v-162b30dc] .van-nav-bar{background-color:transparent\n}\n.container[data-v-162b30dc] .van-nav-bar .van-nav-bar__left i{color:#fff;font-size:20px\n}\n.container[data-v-162b30dc] .van-nav-bar .van-nav-bar__title{color:#fff\n}\n.container[data-v-162b30dc] .box{width:90%;height:80vh;margin:0 auto;background-color:#fff;margin-top:30px;border-radius:30px\n}\n.container[data-v-162b30dc] .box .content{padding:16px 16px 160px\n}\n.container[data-v-162b30dc] .box .van-popup--bottom.van-popup--round{height:100vh\n}\n.container[data-v-162b30dc] .box .van-action-sheet{max-height:100%\n}\n.container[data-v-162b30dc] .box .avator{padding:20px;text-align:center\n}\n.container[data-v-162b30dc] .box .avator .preview{width:100px;height:100px;border-radius:50px\n}\n.container[data-v-162b30dc] .box .avator .upload-icon{color:#dcdee0;font-size:24px;top:50%;left:50%;margin-top:-12px;margin-left:-12px;position:absolute\n}\n.container[data-v-162b30dc] .box .avator .uploader{display:flex;width:100px;height:100px;border-radius:100%;margin:0 auto;background-color:#f7f8fa\n}\n.container[data-v-162b30dc] .box .avator .uploader .van-uploader__upload{width:100px;height:100px\n}\n.container[data-v-162b30dc] .box .avator .uploader .van-uploader__preview-image{width:100px;height:100px\n}\n.container[data-v-162b30dc] .box .avator .uploader .van-uploader__input-wrapper{position:unset\n}\n.container[data-v-162b30dc] .box .avator .photograph{position:relative;margin:0 auto;width:20px;height:20px;background-color:black;border-radius:100%;left:35px;font-size:20px;bottom:20px\n}\n.container[data-v-162b30dc] .box .avator .photograph img{width:15px;height:15px;margin-bottom:2px\n}\n.container[data-v-162b30dc] .box .item .item-index .van-cell--clickable{height:50px;line-height:30px;vertical-align:middle\n}\n.container[data-v-162b30dc] .box .item .item-index .van-popup{background-color:#F6F6F6\n}\n.container[data-v-162b30dc] .box .item .item-index .hint{color:#969799;padding-left:15px\n}\n.container[data-v-162b30dc] .box .item .item-index .van-cell__left-icon,.container[data-v-162b30dc] .box .item .item-index .van-cell__right-icon{line-height:30px\n}\n.container[data-v-162b30dc] .box .item .item-index .van-sheet .van-cell,.container[data-v-162b30dc] .box .item .item-index .van-sheet .van-picker{width:95%;border-radius:15px;margin:0 auto\n}\n.container[data-v-162b30dc] .box .item .item-index .van-sheet .van-cell-group{margin:10px;border-radius:15px\n}\n.container[data-v-162b30dc] .box .item .item-index .van-sheet .van-cell-group .van-cell{border-radius:15px\n}\n.container[data-v-162b30dc] .box .item .item-index .van-language-sheet{height:auto !important\n}\n.container[data-v-162b30dc] .box .item .item-index .background-classname{height:100px;line-height:80px\n}\n.container[data-v-162b30dc] .box .item .item-index .background-classname .van-cell__right-icon{line-height:80px\n}\n.container[data-v-162b30dc] .box .item .item-index .background-classname .van-uploader__mask-message{margin-top:0 !important;line-height:unset !important\n}\n'],sourceRoot:""}])},"8ThQ":function(e,a,t){e.exports=t.p+"static/img/2.45de2af.jpg"},"9Jc8":function(e,a,t){var n=t("/szy");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);t("rjj0")("02ec8d70",n,!0,{})},JCUO:function(e,a,t){"use strict";var n=t("mtWM"),i=t.n(n),r=t("GKmE"),o=t("NYxO"),c=t("WTx0"),s=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};function d(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function u(e){return function(){var a=e.apply(this,arguments);return new Promise(function(e,t){return function n(i,r){try{var o=a[i](r),c=o.value}catch(e){return void t(e)}if(!o.done)return Promise.resolve(c).then(function(e){n("next",e)},function(e){n("throw",e)});e(c)}("next")})}}a.a={name:"",data:function(){return{active:2,avatarFileObj:"",isNameShow:!1,isNumberShow:!1,isIntroduceShow:!1,isSexShow:!1,isBirthdayShow:!1,isProfessionShow:!1,isAreaShow:!1,isLanguageShow:!1,fileList:[],fileBackgroundList:[],minDate:new Date(100,0,1),maxDate:new Date(3e3,10,1),currentDate:new Date(2022,0,1),avatar:"",nickname:"",showBirthdayPicker:!1,LanguageActions:[{name:"中文",label:"zh"},{name:"English",label:"en"}],isconfirm:!0,language:"zh",usdt_balance:0,h2o_balance:0}},created:function(){var e;(e=localStorage.getItem("i18nextLng"))&&void 0!==e&&(this.language=e)},computed:s({},Object(o.c)({address:function(e){return e.base.address},isConnected:function(e){return e.base.isConnected},apiUrl:function(e){return e.base.apiUrl},isMobel:function(e){return e.comps.isMobel}}),{changeData:function(){return{address:this.address,apiUrl:this.apiUrl}}}),watch:{changeData:{immediate:!0,handler:function(e){e.address&&this.getUserInfo()}}},components:{},mounted:function(){},methods:{getUserInfo:function(){var e=this;return u(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,i.a.get(e.apiUrl+"/Api/User/getUserInfo",{params:{address:e.address}}).then(function(){var a=u(regeneratorRuntime.mark(function a(t){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t&&1e4==t.code?(console.log(t.data),e.nickname=t.data.nickname,e.avatar=t.data.avatar,e.usdt_balance=Number(t.data.local_balance)+Number(t.data.wallet_balance),e.h2o_balance=Number(t.data.h2o_local_balance)+Number(t.data.h2o_wallet_balance),t.data.avatar&&""!==t.data.avatar&&(e.fileList[0]={url:t.data.avatar},e.$forceUpdate())):e.$message({type:"warning",message:"Error"}),a.abrupt("return");case 2:case"end":return a.stop()}},a,e)}));return function(e){return a.apply(this,arguments)}}()).catch(function(a){e.$message({type:"warning",message:a})});case 2:case"end":return a.stop()}},a,e)}))()},afterReadUpload:function(e){var a=this;return u(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=13;break}return e.status="uploading",e.message="上传中...",t.next=5,a.ImageCompressionProcessing(e.file);case 5:if(!(n=t.sent)){t.next=13;break}return(r=new FormData).append("file",n),r.append("images_key","avatar"),r.append("address",a.address),t.next=13,i.a.post(a.apiUrl+"/Api/User/saveUserInfo",r).then(function(){var t=u(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||1e4!=n.code){t.next=5;break}return e.status="done",e.message="上传成功",t.next=5,a.getUserInfo();case 5:case"end":return t.stop()}},t,a)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.status="failed",e.message="上传失败",a.$message({type:"warning",message:t})});case 13:case"end":return t.stop()}},t,a)}))()},ImageCompressionProcessing:function(e){var a=this;return u(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=u(regeneratorRuntime.mark(function t(n,i){var o,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(r.i)(e);case 2:o=t.sent,c=new FileReader,o&&(c.readAsDataURL(o),c.onerror=function(e){a.$message({type:"warning",message:"压缩图片读取图片异常...."}),console.log("压缩图片读取图片异常....",e),n(!1)},c.onload=function(e){n(o)});case 5:case"end":return t.stop()}},t,a)}));return function(e,a){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}},t,a)}))()},saveAvator:function(){this.$refs.avatarRef.chooseFile()},onClickSure:function(){this.isNameShow=!1},onClickSave:function(){this.$router.go(-1)},onClickSaveUserInfo:function(e,a){var t=this;return u(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=d({address:t.address},e,a),n.next=3,i.a.post(t.apiUrl+"/Api/User/saveUserInfo",r).then(function(){var e=u(regeneratorRuntime.mark(function e(a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a&&1e4==a.code?(t.isNameShow=!1,t.isIntroduceShow=!1,t.isSexShow=!1,t.isBirthdayShow=!1):t.$message({type:"warning",message:"Error"}),e.abrupt("return");case 2:case"end":return e.stop()}},e,t)}));return function(a){return e.apply(this,arguments)}}()).catch(function(e){t.$message({type:"warning",message:e})});case 3:case"end":return n.stop()}},n,t)}))()},onConfirm:function(e){this.birthday=this.timeFormat(e),this.showBirthdayPicker=!1},addressStr:function(){return this.address&&void 0!=this.address&&""!=this.address?this.address.substring(0,4)+"***"+this.address.substring(this.address.length-3):"Connect Wallet"},connectWalletClick:function(){var e=this;return u(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(void 0!=window.ethereum){a.next=3;break}return e.$message({type:"warning",message:"You do not have metamask installed"}),a.abrupt("return",!1);case 3:if(e.address&&void 0!=e.address&&""!=e.address){a.next=8;break}return a.next=6,Object(c.c)();case 6:a.next=10;break;case 8:return a.next=10,Object(c.b)();case 10:case"end":return a.stop()}},a,e)}))()},languageClick:function(e){this.language=e.label,this.$i18n.i18next.changeLanguage(e.label)},getUsdtDepositWithdraw:function(){this.$router.push("/usdt")},getH2ODepositWithdraw:function(){this.$router.push("/h2o")}}}},k1sS:function(e,a,t){"use strict";var n={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("div",{staticClass:"bg",style:{backgroundSize:e.isMobel?"100% 100%":""}}),e._v(" "),t("van-nav-bar",{attrs:{title:e.$t("question:setUp"),"left-text":"","right-text":"","left-arrow":""},on:{"click-left":e.onClickSave}}),e._v(" "),t("div",{staticClass:"box"},[t("div",{staticClass:"avator"},[t("van-uploader",{ref:"avatarRef",staticClass:"uploader",attrs:{accept:"image/*",deletable:!0,"max-count":"1","after-read":e.afterReadUpload,"preview-full-image":!1},model:{value:e.fileList,callback:function(a){e.fileList=a},expression:"fileList"}})],1),e._v(" "),t("div",{staticClass:"item"},[t("div",{staticClass:"item-index"},[t("van-cell",{attrs:{"is-link":"",title:e.$t("question:walletAddress")},on:{click:function(a){return e.connectWalletClick()}}},[t("div",[e._v(e._s(e.addressStr()))])])],1),e._v(" "),t("div",{staticClass:"item-index"},[t("van-cell",{attrs:{"is-link":"",title:"USDT余额"},on:{click:function(a){return e.getUsdtDepositWithdraw()}}},[t("div",[e._v(e._s(e.toFixed(e.usdt_balance,4))+" USDT")])])],1),e._v(" "),t("div",{staticClass:"item-index"},[t("van-cell",{attrs:{"is-link":"",title:"H2O余额"},on:{click:function(a){return e.getH2ODepositWithdraw()}}},[t("div",[e._v(e._s(e.toFixed(e.h2o_balance,4))+" H2O")])])],1),e._v(" "),t("div",{staticClass:"item-index"},[t("van-cell",{attrs:{"is-link":"",title:e.$t("question:nickname")},on:{click:function(a){e.isNameShow=!0}}},[t("div",[e._v(e._s(e.nickname?e.nickname:e.$t("question:enterName")))])]),e._v(" "),t("van-action-sheet",{staticClass:"van-sheet",attrs:{title:"","close-on-click-action":""},model:{value:e.isNameShow,callback:function(a){e.isNameShow=a},expression:"isNameShow"}},[t("van-nav-bar",{attrs:{title:e.$t("question:editName"),"left-text":e.$t("question:Cancel"),"right-text":e.$t("question:Save")},on:{"click-left":function(a){e.isNameShow=!1},"click-right":function(a){return e.onClickSaveUserInfo("nickname",e.nickname)}}}),e._v(" "),t("van-cell-group",[t("van-field",{attrs:{label:"",placeholder:e.$t("question:addName")},model:{value:e.nickname,callback:function(a){e.nickname=a},expression:"nickname"}})],1),e._v(" "),t("span",{staticClass:"hint"},[e._v(e._s(e.$t("question:editNamePlease")))])],1)],1),e._v(" "),t("div",{staticClass:"item-index"},[t("van-cell",{attrs:{"is-link":"",title:e.$t("question:language")},on:{click:function(a){e.isLanguageShow=!0}}},["zh"===e.language?t("div",[e._v("中文")]):t("div",[e._v("English")])]),e._v(" "),t("van-action-sheet",{staticClass:"van-language-sheet",attrs:{actions:e.LanguageActions,"cancel-text":e.$t("question:Cancel"),"close-on-click-action":""},on:{select:e.languageClick},model:{value:e.isLanguageShow,callback:function(a){e.isLanguageShow=a},expression:"isLanguageShow"}})],1)])])],1)},staticRenderFns:[]};a.a=n},md3T:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=t("JCUO"),i=t("k1sS");var r=function(e){t("9Jc8")},o=t("VU/8")(n.a,i.a,!1,r,"data-v-162b30dc",null);a.default=o.exports}});